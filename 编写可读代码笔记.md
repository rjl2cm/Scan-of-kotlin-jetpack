# 《[编写可读代码的艺术](https://book.douban.com/subject/10797189/)》笔记

---

## 前言

基本是吹一波彩虹屁，感谢铁岭TV、辽宁TV、CCTV啥的……

---

## 第一章

说下这本书的目的和经过，再剩下就是传达一个信号：

> 去粗取精、细嗅蔷薇是优秀工程师应有的工作态度，
> 自律、自由、效率应是我们的工作追求！
> 创造极佳的工作体验，从自我做起！

---

## 第二章：把信息装到名字中

**1. 命名内容 - 单词替换**  
| 表达 | 可替换单词                              |
|------|-----------------------------------------|
| Send | deliver, dispatch, announce, distribute, route |
| Find | search, extract, locate, recover        |
| Start| launch, create, begin, open             |
| Make | create, setup, build, generate, compose, add, new |

**2. 命名格式 - 前缀后缀**  
- `Start(int delay)` → `delay_secs`
- `CreateCache(int size)` → `size_mb`
- `ThrottleDownload(float limit)` → `max_kbps`
- `Rotate(float angle)` → `degrees_cw`

**3. 使用专业、精准的单词，凸显专业性。**  
如上表和示例。

**4. 避免空泛命名**  
如 tmp、retval、result 等。

**5. 使用具体命名描述事物**  
例如：`isServerOnPort()` 比 `ServerCanStart()` 更加细致优雅。

**6. 给变量名带上重要细节**  
如延迟毫秒数命名为 `delay_ms`，未处理的变量前加前缀 `raw_`

**7. 作用域更大采用更长命名**

**8. 团队内部统一命名规范、大小写、下划线等**  
如类成员和局部变量可后缀 “_” 区分。

---

## 第三章：不会误解的名字

> 一个中心思想——以新手的角度来看你的代码，别让代码有二义性！

---

## 第四章：审美

一致性的风格比风格“正确”更重要。

1. 多块代码做相同事情，尝试抽成公共方法  
2. 代码按“列”对齐，可提升阅读体验  
3. 替代 A、B、C，在别处也保持同样顺序  
4. 使用空行隔开大块代码，形成段落

---

## 第五章：该写什么样的注释

注释不仅解释代码做了什么，更要确保读者与作者了解一致。

1. 不要写能靠名字推断得到的信息
2. 不要为了写注释而写注释
3. 注释不应解释命名二义性或掩饰命名缺点，应改命名

---

## 第六章：写出言简意赅的注释

1. 多个名词出现时请避免用 it/this 等代词
2. 精确描述函数操作行为
3. 可用精简输入/输出例子说明
4. 声明高层次意图，而非明显细节
5. 多函数嵌入参数式注释（IDE 可显示形参名称时除外）
6. 用饱满丰富单词让注释简洁

---

## 第七章：让控制流易读

1. 改代码时整体考虑 if-else 嵌套，优先线性流程
2. if 判断时变量在左、常量在右
3. if 逻辑语句避免双重否定
4. 慎用三目运算

---

## 第八章：拆分超长表达式

1. 充分用德摩根律，必要时用反向思维
2. if 判断次数尽量少
3. 必要时用宏
4. 必要时创建临时变量

---

## 第九章：变量与可读性

1. 尽量减少变量
2. 变量作用域尽量小
3. 可以则使用常量

---

## 第十章：抽取不相关的子问题

1. 重复代码请抽方法
2. 抽象需适度，避免过犹不及
3. 抽象操作保持同一层次
4. 抽象操作保持对称性
5. 慎用递归（注意出口和栈深度）

---

## 第十一章：一次只做一件事

难的是准确描述你的程序做的每一件小事。

---

## 第十二章：把想法变成代码

> 如果你无法清晰表达你的代码，那么你必然缺失定义某些东西。

---

## 第十三章：少写代码

1. 深入理解需求，减少非必要 feature，避免过度设计
2. 尊重代码完整周期，定期进行净化与删除
3. 能复用的就复用（工具类、开源库、标准 API）
4. 有时间可通读标准库 API

---

## 第十四章：测试与可读性

1. 测试要简明，输入输出一行代码体现最佳
2. 测试失败时要有充足错误消息
3. 保持测试简明下，做分支、场景完整性验证
4. 规范测试函数命名，与业务函数区分且表达测试条件  
（如：`Test_<FunctionName>_<Situation>`）
5. 确保测试易于更改和新增

---

## 第十五章：设计并改进“分钟/小时计数器”

本章应用上述技巧，比较三种设计方案优缺点。

> 感触更多的是，要保持他人对自己代码态度开放——因为“他人”很可能是半年后的你自己！

---
